{#
  Name: edit.html.twig
  Path: cuej/Back/templates/pages/Categories/edit.html.twig
#}
{% extends "index.html.twig" %}

{# Set title #}
{% block title %}Categories - Edit{% endblock %}

{# Custom JS #}
{% block javascript %}
  <script src="public/back/js/media-library/library.js" defer type="module"></script>
{% endblock %}

{# Set content #}
{% block content %}

  <h1>Edit a Category</h1>
  <p><a href="admin/categories">Back to Categories</a></p>

  <form action="admin/edit_category/{{ category.id }}" method="post" enctype="multipart/form-data">
    <section>
      <label for="name">Category Name</label>
      <input type="text" name="name" id="name" placeholder="Category Name" value="{{ category.name|raw }}" required>
    </section>

    <section>
      <label for="description">Category Description</label>
      <textarea name="description" id="description" placeholder="Category Description" required>{{ category.description|raw }}</textarea>
    </section>

    <section id="cuej__media" data-type="png, jpg, jpeg, gif, webp, svg">
      {% if category.image != null %}
        <label for="null">Category Image</label>
        <img src="{{ category.image.path }}" alt="Category Image">
        <input type="button" class="cuej__unassign_media btn" data-id="{{ category.image.id }}" data-table="categories" data-column="image" data-lineid="{{ category.id }}" value="Replace Image">
      {% else %}
        <label for="image">Category Image</label>
        <input type="file" name="image" id="image" accept=".png, .jpg, .jpeg, .gif, .webp, .svg">
      {% endif %}
    </section>

    <input type="submit" value="Edit Category">
  </form>

{% endblock %}