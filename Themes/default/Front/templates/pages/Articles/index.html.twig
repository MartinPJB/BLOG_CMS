{#
  Nom: index.html.twig
  Path: default/Front/templates/pages/Articles/index.html.twig
#}
{% extends "index.html.twig" %}

{% block content %}
  <section>
    <h1>Articles</h1>
    {% for article in articles|sort((a, b) => date(a.getDate()) - date(b.getDate())) %}

      {# Variables #}
      {% set image = article.getImage() %}
      {% set title = article.getTitle() %}
      {% set description = article.getDescription() %}
      {% set date = article.getDate() %}
      {% set author = article.getAuthorId() %}
      {% set category = article.getCategory() %}
      {% set tags = article.getTags() %}

      {# Affichage #}
      <article>
        <img src="{{ image.getPath() }}" alt="{{ image.getAlt() }}">
        <div>
          <h2>{{ title }}</h2>
          <p>{{ description }}</p>

          <p>Publié le {{ date|date("d/m/Y H:i", "Europe/Paris") }} par {{ author }}</p>
          <p>Tags: {{ tags|join(', ') }}</p>
          <p>{{ category.getName() }}</p>
        </div>
      </article>
    {% else %}
      <p>Aucun article n'a été publié.</p>
    {% endfor %}
  </section>
{% endblock %}

